{"version":3,"sources":["uni-app:///main.js","webpack:///F:/HBuilderX/qrcode-to-poster/pages/index/index.vue?39fb","webpack:///F:/HBuilderX/qrcode-to-poster/pages/index/index.vue?5c49","webpack:///F:/HBuilderX/qrcode-to-poster/pages/index/index.vue?61a4","webpack:///F:/HBuilderX/qrcode-to-poster/pages/index/index.vue?c412","uni-app:///pages/index/index.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;;;AAGpD;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA0qB,CAAgB,+rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiI9rB,sE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAXA;AACA,mB,CACA;AACA,mC,CACA;AACA,6BACA,6BADA,I,CAGA;AACA,qD,eAWA,EACA,IADA,kBACA,CACA,SACA;AACA,wCAFA,EAIA;AACA,0BALA,EAMA;AACA,wBAPA,EASA;AACA,wBAVA,EAWA;AACA,wBAZA,EAcA;AACA,qBAfA,EAiBA;AACA,2BAlBA,EAoBA;AACA;AAEA;;SAvBA,CA4BA;AACA,2BACA;AACA,gBAFA,EAGA;AACA,iBAJA,EAKA;AACA,4BANA,EAOA;AACA,kCARA,EASA;AACA,uBAVA,EAWA;AACA,yBAZA,EA7BA,EA6CA;;gCA7CA,CAgDA;AACA,qBACA;AACA,uBAFA,EAGA;AACA,qBAJA,EAKA;AACA,kBANA,EAOA;AACA,kBARA,EAjDA,EA2DA;AACA,sBA5DA,EA6DA;AACA,wBA9DA,EAiEA;;6BAGA,kBApEA,EAqEA,oBArEA,GAwEA,CA1EA,EA2EA;AACA,mBA5EA,+BA4EA,CACA,+BACA,CA9EA,EA+EA,OA/EA,qBA+EA,CACA,aACA,4BACA,kBACA,UADA,EAEA,eAFA,IAHA,CAOA;AACA,iEACA,qCACA,oCACA,+CACA,iBACA,wBADA,EAEA,OAFA,mBAEA,GAFA,EAEA,CACA,oBACA,gBACA,kBADA,EAEA,iBAFA,IAIA,OACA,CACA,iCACA,+BACA,CAZA,EAaA,IAbA,gBAaA,CAbA,EAaA,CACA,gBACA,kBADA,EAEA,iBAFA,IADA,CAKA;AACA,WAnBA,IAqBA,CAzBA,EA0BA,wBACA,8BACA,gBACA,qCADA,EAEA,mBAFA,IAIA,CAhCA,EAiCA,+BACA,kBACA,CAnCA,IAsCA,CA7HA,EA8HA,WACA,kBADA,gCACA,CACA,gBACA,iBADA,EAEA,aAFA,EAGA,6BAHA,IAKA,CAPA,EAQA;;yWAGA,sBAXA,oCAWA,CACA,iCACA,gBACA,kBADA,EAEA,iBAFA,IAIA,4BACA;AACA;AACA;;AAEA;AACA;AACA,gDAFA;AAGA,SAHA,CAGA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,wGAFA;AAGA,+BAHA;;AAKA,WANA,MAMA;AACA;AACA;AACA;AACA,mDADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA,IACA,4CADA,EACA;AACA;AACA,qBAHA,MAGA;AACA;AACA;AACA;AACA,mBAZA;AAaA;AACA;AACA;AACA,2DADA;AAEA,yCAFA;;AAIA,mBAnBA;;AAqBA;AACA;AACA;AACA,eAzCA;AA0CA;AACA;AACA;AACA,8DADA;AAEA,mCAFA;;AAIA,eAhDA;;AAkDA;AACA,SA/DA;AAgEA;AACA;AACA,SAlEA;AAmEA;AACA;AACA,SArEA,EAHA;;AA0EA,KAhGA;AAiGA;;;;AAIA,oBArGA,4BAqGA,CArGA,EAqGA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,4BAFA;AAGA;AACA;AACA;AACA;AACA,SAPA;AAQA,YARA,gBAQA,GARA,EAQA;AACA;AACA,8BADA;AAEA,wCAFA;AAGA,6BAHA;;AAKA,SAdA;;AAgBA,KAzHA;AA0HA;;;AAGA,eA7HA,yBA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA,4CADA;AAEA,8BAFA;AAGA,+BAHA;;AAKA;AACA,SAZA;AAaA,aAbA,CAaA;AACA;AACA;AACA,sCADA;AAEA,4BAFA;AAGA,6BAHA;;AAKA,SApBA;AAqBA,OAvBA;AAwBA,WAxBA,CAwBA;AACA;AACA;AACA,sBADA;AAEA,0BAFA;;AAIA;AACA,OA/BA;AAgCA,KA/JA;;AAiKA;;;AAGA,0CApKA,oDAoKA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA,4CADA;AAEA,6BAFA;AAGA,+BAHA;;AAKA;;AAEA,SAXA;AAYA,aAZA,CAYA;;AAEA;AACA;AACA,2BADA;AAEA,2BAFA;AAGA,6BAHA;;AAKA;AACA,SArBA;AAsBA,OAvBA;AAwBA,WAxBA,CAwBA;;AAEA;AACA;AACA,sBADA;AAEA,0BAFA;;AAIA;AACA,OAhCA;AAiCA,KAxMA;;AA0MA;AACA,aA3MA,uBA2MA;AACA;AACA,mDADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA,2BADA;AAEA,2BAFA;;AAIA;AACA,SARA;AASA,YATA,gBASA,GATA,EASA;AACA;AACA,iDADA,EACA;AACA;AACA,6BADA;AAEA,sCAFA;AAGA,+BAHA;AAIA,qBAJA,qBAIA;AACA;AACA;AACA;AACA;AACA,0BADA,gBACA,GADA,EACA;AACA;AACA,2CADA;AAEA,sEAFA;AAGA,2CAHA;;AAKA,uBAPA;;AASA,mBAZA;;AAcA,eAnBA;;AAqBA,WAvBA,MAuBA;AACA;AACA,6BADA;AAEA,mDAFA;AAGA,+BAHA;;AAKA;AACA;AACA,SAzCA;;AA2CA,KAvPA;AAwPA;AACA,cAzPA,wBAyPA;AACA;AACA;AACA,KA5PA;AA6PA;AACA,cA9PA,wBA8PA;AACA;AACA;AACA;AACA,KAlQA;AAmQA;AACA;;;;;AAKA;AACA,eA1QA,yBA0QA;AACA;AACA,KA5QA;;AA8QA;AACA;AACA;AACA,KAjRA;;AAmRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;;AAIA;AACA,mCADA;AAEA,qBAFA,qBAEA;AACA;AACA,eAJA;;AAMA,WAbA,MAaA;AACA;AACA;AACA,2BADA;AAEA,0BAFA;AAGA,qBAHA,qBAGA;AACA;AACA,eALA;;AAOA;AACA,SA1BA;AA2BA;AACA;AACA,yBADA;AAEA,oDAFA;AAGA,6BAHA;;AAKA,SAjCA;;AAmCA,KAxTA,EA9HA,E","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=4f7d327c&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"F:/HBuilderX/qrcode-to-poster/pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=4f7d327c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"cu-form-group bg-cyan\">\r\n\t\t\t<view class=\"title  cuIcon-comment\">公告：{{notice_title}}</view>\r\n\t\t\t<button class='cu-btn round lines-white' open-type=\"getUserInfo\" @tap=\"showMoreNoticeInfo()\" :disabled=\"DISBALE_BUTTON\">点击查看详情</button>\r\n\t\t</view>\r\n\t\t<!-- 输入框及生成按钮 -->\r\n\t\t<form>\r\n\t\t\t<view class=\"cu-form-group margin-top\">\r\n\t\t\t\t<view class=\"title\">所在地区</view>\r\n\t\t\t\t<picker @change=\"areaPickerChange\" :value=\"areaPickerIndex\" :range=\"areaPickerList\" v-bind:range-key=\"'areaName'\">\r\n\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t{{areaPickerList[areaPickerIndex].areaName}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group margin-top\">\r\n\t\t\t\t<view class=\"title\">工号</view>\r\n\t\t\t\t<input name=\"USER_NAME\" type=\"number\" v-model=\"USER_NAME\" maxlength=\"12\"></input>\r\n\t\t\t\t<button class='cu-btn bg-blue shadow cuIcon-barcode' open-type=\"getUserInfo\" @tap=\"shareQRCode()\" :disabled=\"DISBALE_BUTTON\">展示二维码</button>\r\n\t\t\t\t<button class='cu-btn bg-green shadow cuIcon-picfill' open-type=\"getUserInfo\" @tap=\"downloadImageAndGetBase64AndDrawPoster()\"\r\n\t\t\t\t :disabled=\"DISBALE_BUTTON\">生成海报</button>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- <view class=\"cu-bar bg-white solid-bottom margin-top\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"cuIcon-title text-orange\"></text>自动保存海报,海报二维码有问题时打开\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t<switch class='orange radius' @change=\"autoSavePosterChange\" :class=\"autoSavePoster?'checked':''\" :checked=\"autoSavePoster?true:false\"></switch>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t</form>\r\n\r\n\t\t<!--海报的绘制组件-->\r\n\t\t<view class=\"hideCanvasView\">\r\n\t\t\t<canvas canvas-id=\"CANVAS_ID\" class=\"hideCanvas\" style=\"border: 1px solid; background: #00aaff;\" :style=\"{width: (POSTER_IMAGE_INFO.width||10) + 'px', height: (POSTER_IMAGE_INFO.height||10) + 'px'}\"></canvas>\r\n\t\t</view>\r\n\t\t<!--生成二维码或海报后的展示组件 -->\r\n\t\t<view>\r\n\t\t\t<view class=\"flex_row_c_c modalView\" :class=\"POSTER_IMAGE_INFO.posterShow?'show':''\">\r\n\t\t\t\t<view class=\"flex_column\">\r\n\t\t\t\t\t<view class=\"backgroundColor-white padding1vh border_radius_10px\">\r\n\t\t\t\t\t\t<image v-if='POSTER_IMAGE_INFO.posterUrl' :src=\"POSTER_IMAGE_INFO.posterUrl || ''\" mode=\"widthFix\" class=\"posterImage\"\r\n\t\t\t\t\t\t @longtap=\"saveImage()\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex_row marginTop2vh\">\r\n\t\t\t\t\t\t<button type=\"warn\" size=\"mini\" @tap.prevent.stop=\"hidePoster()\">关闭</button>\r\n\t\t\t\t\t\t<button type=\"primary\" size=\"mini\" @tap.prevent.stop=\"saveImage()\">保存海报</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex_row_c_c modalView\" :class=\"QRCODE_Show?'show':''\">\r\n\t\t\t\t<view class=\"flex_column\">\r\n\t\t\t\t\t<view class=\"backgroundColor-white padding1vh border_radius_10px\">\r\n\t\t\t\t\t\t<image v-if='QRCODE_Src' :src=\"QRCODE_Src || ''\" mode=\"widthFix\" class=\"posterImage\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex_row marginTop2vh\">\r\n\t\t\t\t\t\t<button type=\"warn\" size=\"mini\" @tap.prevent.stop=\"hideQrCode()\">关闭</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 使用说明 -->\r\n\t\t<view>\r\n\t\t\t<view class=\" text-xl padding\">\r\n\t\t\t\t<text class=\"text-black text-bold\">使用说明：</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\" text-lg padding\">\r\n\t\t\t\t<text class=\"text-black\">1. 二维码生成步骤：选择地区☞输入\"工号\"☞点击\"生成海报\"☞点击\"保存海报\"即可将海报保存到手机。</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\" text-lg padding\">\r\n\t\t\t\t<text class=\"text-black\">2. 数据统计说明：根据收派员工号统计对应注册量，大区、地区、分点部数据为工号对应注册量之和。</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\" text-lg padding\">\r\n\t\t\t\t<text class=\"text-red text-bold\">3. 生成新的二维码之后，原二维码停止使用，请务必不要再使用。</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\" text-lg padding\">\r\n\t\t\t\t<text class=\"text-black\">4. 长按海报也可保存海报。</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\" text-sm padding\">\r\n\t\t\t\t<text class=\"text-grey\" @tap=\"updataBasic\">点击此处修改生成参数</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 密码输入框 -->\r\n\t\t<view>\r\n\t\t\t<block v-if=\"isShowConfirm\">\r\n\t\t\t\t<view class='toast-box'>\r\n\t\t\t\t\t<view class='toastbg'></view>\r\n\t\t\t\t\t<view class='showToast'>\r\n\t\t\t\t\t\t<view class='toast-title'>\r\n\t\t\t\t\t\t\t<text>确认密码</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class='toast-main'>\r\n\t\t\t\t\t\t\t<view class='toast-input'>\r\n\t\t\t\t\t\t\t\t<input type='password' placeholder='输入密码' v-model=\"passwordUser\"></input>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class='toast-button'>\r\n\t\t\t\t\t\t\t<view class='button1'>\r\n\t\t\t\t\t\t\t\t<button @tap='cancelBtn'>取消</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class='button2'>\r\n\t\t\t\t\t\t\t\t<button @tap=\"confirmAcceptance\">确定</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\n\t// 全局变量\r\n\tvar _this = this;\r\n\t// 数据库名称\r\n\tconst SQL_DATA_NAME = 'qrcode_basic';\r\n\t// 操作的数据库为 qrcode-to-poster-luody\r\n\tconst db = wx.cloud.database({\r\n\t\tenv: 'qrcode-to-poster-luody'\r\n\t});\r\n\t//微信日志输出\r\n\tconst wxlog = require('../log.js');\r\n\r\n\timport {\r\n\t\tgetUserInfo,\r\n\t\tdownLoadAndSaveFile,\r\n\t\tgetQRCodeBase64,\r\n\t\twriteBase64ToFile,\r\n\t\tcanvasToImageFile,\r\n\t\tdownloadImageAndGetBase64AndDrawPoster\r\n\t} from '../../util/js_tools.js'\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 画布的ID\r\n\t\t\t\tcanvasId: 'default_PosterCanvasId',\r\n\r\n\t\t\t\t// 显示跳转配置界面的密码输入框是否显示\r\n\t\t\t\tisShowConfirm: false,\r\n\t\t\t\t// 用户输入的密码\r\n\t\t\t\tpasswordUser: null,\r\n\r\n\t\t\t\t// 地区列表\r\n\t\t\t\tareaPickerList: [],\r\n\t\t\t\t// 用户选择的地区\r\n\t\t\t\tareaPickerIndex: 0,\r\n\r\n\t\t\t\t// 用户工号\r\n\t\t\t\tUSER_NAME: null,\r\n\r\n\t\t\t\t// 按钮禁用状态\r\n\t\t\t\tDISBALE_BUTTON: false,\r\n\r\n\t\t\t\t//自动保存海报\r\n\t\t\t\t//autoSavePoster:false,\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * 海报\r\n\t\t\t\t */\r\n\r\n\r\n\t\t\t\t// 海报信息\r\n\t\t\t\tPOSTER_IMAGE_INFO: {\r\n\t\t\t\t\t// 海报的宽\r\n\t\t\t\t\twidth: 0,\r\n\t\t\t\t\t// 海报的高\r\n\t\t\t\t\theight: 0,\r\n\t\t\t\t\t// 海报云地址\r\n\t\t\t\t\tposterCloudUrl: null,\r\n\t\t\t\t\t// 海报下载地址\r\n\t\t\t\t\tposterImgDownloadUrl: null,\r\n\t\t\t\t\t// 展示海报时的路径\r\n\t\t\t\t\tposterUrl: null,\r\n\t\t\t\t\t// 海报是否展示\r\n\t\t\t\t\tposterShow: false,\r\n\t\t\t\t},\r\n\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * 二维码\r\n\t\t\t\t */\r\n\t\t\t\t// 二维码大小\r\n\t\t\t\tQRCODE_INFO: {\r\n\t\t\t\t\t// 二维码生成的后台地址\r\n\t\t\t\t\tqrCodeUrl: null,\r\n\t\t\t\t\t// 二维码大小\r\n\t\t\t\t\tqrCodeSize: 0,\r\n\t\t\t\t\t// 二维码X位置\r\n\t\t\t\t\tqrCodeX: 0,\r\n\t\t\t\t\t// 二维码Y位置\r\n\t\t\t\t\tqrCodeY: 0\r\n\t\t\t\t},\r\n\t\t\t\t// 单纯展示二维码时，图形的路径\r\n\t\t\t\tQRCODE_Src: null,\r\n\t\t\t\t// 单纯展示二位码的控件是否显示\r\n\t\t\t\tQRCODE_Show: false,\r\n\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * 公告\r\n\t\t\t\t */\r\n\t\t\t\tnotice_title: null,\r\n\t\t\t\tnotice_content: null\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 下拉刷新数据\r\n\t\tonPullDownRefresh() {\r\n\t\t\t_this.getBasicDataByUserArea();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t_this = this;\r\n\t\t\t_this.DISBALE_BUTTON = true;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\tmask: true,\r\n\t\t\t\ttitle: '获取地区数据'\r\n\t\t\t})\r\n\t\t\t// 获取所有地区\r\n\t\t\tdb.collection(SQL_DATA_NAME).doc('_MINI_AREA_DATA_ID').get({\r\n\t\t\t\tsuccess: function(list_res) {\r\n\t\t\t\t\twxlog.info(list_res.data._areaData)\r\n\t\t\t\t\t_this.areaPickerList = list_res.data._areaData;\r\n\t\t\t\t\tuni.getStorage({\r\n\t\t\t\t\t\tkey: '_USER_SELECT_AREA',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tif (res.data == 0) {\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: '获取用户所在地失败',\r\n\t\t\t\t\t\t\t\t\tcontent: '请选择所在地'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.areaPickerIndex = res.data;\r\n\t\t\t\t\t\t\t_this.getBasicDataByUserArea();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '获取用户所在地失败',\r\n\t\t\t\t\t\t\t\tcontent: '请选择所在地'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// _this.areaPickerIndex=1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(e) {\r\n\t\t\t\t\twxlog.error('获取下拉地区数据失败：', e);\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: \"请稍后再试：\" + JSON.stringify(e),\r\n\t\t\t\t\t\ttitle: \"获取下拉地区数据失败\"\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function() {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshowMoreNoticeInfo() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\ttitle: '公告详情',\r\n\t\t\t\t\tcontent: _this.notice_content\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 根据用户所在地获取海报生成信息\r\n\t\t\t */\r\n\t\t\tgetBasicDataByUserArea() {\r\n\t\t\t\tif (_this.areaPickerIndex == 0) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '获取用户所在地失败',\r\n\t\t\t\t\t\tcontent: '请选择所在地'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t_this.DISBALE_BUTTON = true;\r\n\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdb.collection(SQL_DATA_NAME).where({\r\n\t\t\t\t\t//_id:'_MINI_TEST_POSTER_SHARE',\r\n\t\t\t\t\t_areaId: parseInt(_this.areaPickerIndex)\r\n\t\t\t\t}).get({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\twxlog.info(res);\r\n\t\t\t\t\t\tif (res.data.length == 0) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '获取数据失败',\r\n\t\t\t\t\t\t\t\tcontent: '获取当前选择地区\"' + _this.areaPickerList[_this.areaPickerIndex].areaName + '\"的海报生成参数失败',\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconst posterSQL = res.data[0];\r\n\t\t\t\t\t\t\t// 使用从数据库中获取到的图片ID换取海报背景的下载地址\r\n\t\t\t\t\t\t\twx.cloud.getTempFileURL({\r\n\t\t\t\t\t\t\t\tfileList: [posterSQL._posterCloudUrl],\r\n\t\t\t\t\t\t\t\t// 有效期设置为20小时\r\n\t\t\t\t\t\t\t\t// maxAge: 120 * 10 * 60 * 1000,\r\n\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\twxlog.info('res', res);\r\n\t\t\t\t\t\t\t\t\twxlog.info('res.fileList', res.fileList[0].tempFileURL);\r\n\t\t\t\t\t\t\t\t\t// 下载链接获取完成\r\n\t\t\t\t\t\t\t\t\t_this.POSTER_IMAGE_INFO.posterImgDownloadUrl = res.fileList[0].tempFileURL;\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t// 二维码大小\r\n\t\t\t\t\t\t\t\t\t_this.QRCODE_INFO.qrCodeSize = posterSQL._qrCodeSize;\r\n\t\t\t\t\t\t\t\t\t// 二维码X位置\r\n\t\t\t\t\t\t\t\t\t_this.QRCODE_INFO.qrCodeX = posterSQL._qrCodeX;\r\n\t\t\t\t\t\t\t\t\t// 二维码Y位置\r\n\t\t\t\t\t\t\t\t\t_this.QRCODE_INFO.qrCodeY = posterSQL._qrCodeY;\r\n\t\t\t\t\t\t\t\t\tdb.collection(SQL_DATA_NAME).doc('_MINI_POSTER_BASIC_DATA_ID').get({\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\twxlog.info('_MINI_POSTER_BASIC_DATA_ID数据：', res.data)\r\n\t\t\t\t\t\t\t\t\t\t\t// 二维码生成的后台地址\r\n\t\t\t\t\t\t\t\t\t\t\t_this.QRCODE_INFO.qrCodeUrl = res.data._qrCodeUrl;\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.data._notice_title == null || res.data._notice_title == 'null' || res.data._notice_title ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t'' || typeof(res.data._notice_title) == 'undefined') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t_this.notice_title = '暂无公告';\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t_this.notice_title = res.data._notice_title;\r\n\t\t\t\t\t\t\t\t\t\t\t\t_this.notice_content = res.data._notice_content;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\t\t\t\t\t\twxlog.error('获取下拉地区数据失败：', e);\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: \"请稍后再试：\" + JSON.stringify(e),\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"获取下拉地区数据失败\"\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t_this.DISBALE_BUTTON = false;\r\n\t\t\t\t\t\t\t\t\twxlog.info('_this.POSTER_IMAGE_INFO', _this.POSTER_IMAGE_INFO);\r\n\t\t\t\t\t\t\t\t\twxlog.info('_this.QRCODE_INFO', _this.QRCODE_INFO);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: res => {\r\n\t\t\t\t\t\t\t\t\twxlog.error('使用从数据库中获取到的图片ID换取下载地址失败：', res);\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\tcontent: \"获取海报下载地址失败：\" + JSON.stringify(res),\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"获取基础数据异常\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\twxlog.error('根据用户所在地获取海报生成信息失败', e)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function(e) {\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 地区选择器\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tareaPickerChange(e) {\r\n\t\t\t\twxlog.info(e.detail.value)\r\n\t\t\t\t_this.areaPickerIndex = e.detail.value;\r\n\t\t\t\twxlog.info(_this.areaPickerList[e.detail.value].areaIndex);\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: '_USER_SELECT_AREA',\r\n\t\t\t\t\tdata: e.detail.value,\r\n\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\twxlog.info('用户所在地保存成功：' + _this.areaPickerIndex + ',' + _this.areaPickerList[e.detail.value]);\r\n\t\t\t\t\t\t// App.AREA_PICKER_INDEX = _this.areaPickerIndex;\r\n\t\t\t\t\t\t_this.getBasicDataByUserArea();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '保存用户所在地失败',\r\n\t\t\t\t\t\t\tcontent: JSON.stringify(res),\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 生成二维码并展示二维码\r\n\t\t\t */\r\n\t\t\tshareQRCode() {\r\n\t\t\t\t_this.DISBALE_BUTTON = true;\r\n\t\t\t\tgetUserInfo().then(function(data) {\r\n\t\t\t\t\t\twxlog.info('获取用户信息resolved成功回调：', data);\r\n\t\t\t\t\t\tgetQRCodeBase64(_this.USER_NAME, _this.QRCODE_INFO.qrCodeUrl).then(\r\n\t\t\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.data.success == true) {\r\n\t\t\t\t\t\t\t\t\t\t_this.QRCODE_Src = res.data.obj.qrCodeBase64;\r\n\t\t\t\t\t\t\t\t\t\t_this.QRCODE_Show = true;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: res.data.errorMessage,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '生成二维码失败',\r\n\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(function(e) {\r\n\t\t\t\t\t\t\t\t_this.DISBALE_BUTTON = false;\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\tcontent: JSON.stringify(e),\r\n\t\t\t\t\t\t\t\t\ttitle: '生成二维码失败',\r\n\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(reason, data) {\r\n\t\t\t\t\t\t_this.DISBALE_BUTTON = false;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '请授权用户信息'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\twxlog.info('获取用户信息rejected失败回调：', reason);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 下载背景图，获取二维码，绘制海报\r\n\t\t\t */\r\n\t\t\tdownloadImageAndGetBase64AndDrawPoster() {\r\n\r\n\t\t\t\t_this.DISBALE_BUTTON = false;\r\n\t\t\t\tgetUserInfo().then(function(data) {\r\n\t\t\t\t\t\tgetQRCodeBase64(_this.USER_NAME, _this.QRCODE_INFO.qrCodeUrl).then(function(res) {\r\n\t\t\t\t\t\t\t\tif (res.data.success == true) {\r\n\t\t\t\t\t\t\t\t\tdownloadImageAndGetBase64AndDrawPoster(_this);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\tcontent: res.data.errorMessage,\r\n\t\t\t\t\t\t\t\t\t\ttitle: '生成海报失败',\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(function(reason, data) {\r\n\r\n\t\t\t\t\t\t\t\t_this.DISBALE_BUTTON = false;\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\tcontent: reason,\r\n\t\t\t\t\t\t\t\t\ttitle: '生成海报失败',\r\n\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\twxlog.info('获取用户信息rejected失败回调：', reason);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(reason, data) {\r\n\r\n\t\t\t\t\t\t_this.DISBALE_BUTTON = false;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '请授权用户信息'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\twxlog.info('获取用户信息rejected失败回调：', reason);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 保存海报\r\n\t\t\tsaveImage() {\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\tfilePath: _this.POSTER_IMAGE_INFO.posterUrl,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\ttitle: '保存海报成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t_this.POSTER_IMAGE_INFO.posterShow = false;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tif (err.errMsg === \"saveImageToPhotosAlbum:fail:auth denied\" || err.errMsg ===\r\n\t\t\t\t\t\t\t\"saveImageToPhotosAlbum:fail auth deny\") {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '保存海报失败',\r\n\t\t\t\t\t\t\t\tcontent: '请授权小程序保存图片到相册',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t\twx.getSetting({\r\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!res.authSetting['scope.writePhotosAlbum'])\r\n\t\t\t\t\t\t\t\t\t\t\t\twx.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '打开设置界面失败',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '请手动点击右上角的三个点，再点击＂设置＂，授权小程序保存图片到相册',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '保存海报失败',\r\n\t\t\t\t\t\t\t\tcontent: '保存海报失败，请稍后再试：' + err.errMsg,\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twxlog.error('工号：' + _this.USER_NAME + '保存海报失败', JSON.stringify(err));\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 取消显示海报\r\n\t\t\thidePoster() {\r\n\t\t\t\t_this.DISBALE_BUTTON = false;\r\n\t\t\t\t_this.POSTER_IMAGE_INFO.posterShow = false;\r\n\t\t\t},\r\n\t\t\t// 隐藏二维码弹窗\r\n\t\t\thideQrCode() {\r\n\t\t\t\t_this.DISBALE_BUTTON = false;\r\n\t\t\t\t_this.QRCODE_Show = false;\r\n\t\t\t\t_this.QRCODE_Src = null;\r\n\t\t\t},\r\n\t\t\t// 自动保存海报\r\n\t\t\t/* autoSavePosterChange(e){\r\n\t\t\t\t_this.autoSavePoster = e.detail.value;\r\n\t\t\t\twxlog.info('自动保存海报',_this.autoSavePoster);\r\n\t\t\t}, */\r\n\r\n\t\t\t// 显示跳转配置界面的密码输入框\r\n\t\t\tupdataBasic() {\r\n\t\t\t\t_this.isShowConfirm = true;\r\n\t\t\t},\r\n\r\n\t\t\t// 取消打开配置界面\r\n\t\t\tcancelBtn: function() {\r\n\t\t\t\t_this.isShowConfirm = false;\r\n\t\t\t},\r\n\r\n\t\t\t// 验证密码并跳转参数配置界面\r\n\t\t\tconfirmAcceptance: function() {\r\n\t\t\t\tdb.collection(SQL_DATA_NAME).doc('_MINI_POSTER_BASIC_DATA_ID').get({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconst passwordSQL = res.data._editAdminDataPassword;\r\n\t\t\t\t\t\tif (passwordSQL == _this.passwordUser) {\r\n\t\t\t\t\t\t\t_this.isShowConfirm = false;\r\n\t\t\t\t\t\t\twxlog.info('用户输入的密码：[' + _this.passwordUser + ']，后台保存的密码：[' + passwordSQL + ']。验证通过');\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '验证成功',\r\n\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '../basic/basic',\r\n\t\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t\t_this.passwordUser = null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\twxlog.error('用户输入的密码：[' + _this.passwordUser + ']，后台保存的密码：[' + passwordSQL + ']。验证不通过');\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '密码错误',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t\t_this.passwordUser = null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '验证失败',\r\n\t\t\t\t\t\t\tcontent: '获取后台密码错误：' + JSON.stringify(e),\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"],"sourceRoot":""}